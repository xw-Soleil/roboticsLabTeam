# ZJU-I Robot Arm Control - Lab 5

## 环境要求
- Python 3.7-3.10
- numpy, pandas

## 文件说明
main.py         - 主程序
myIK.py         - 逆运动学求解器
until.py        - 轨迹规划工具函数
pose_check.py   - 位姿查看工具
Robot/          - 机械臂驱动库

## 运行步骤

1. 连接电源和USB串口
   - 打开电源开关
   - 插USB线，记下串口号（设备管理器查看，一般是COM5）

2. 修改串口号（如果不是COM5）
   打开 main.py，修改第12行：
   r = Robot(com='COM5', baud=250000)  # 改成实际串口号

3. 进入code文件夹并运行
   python ./goHome.py
  将机械臂调整到零位（各关节伸直，竖直向上）

4. 进入code文件夹并运行
   python ./main.py
   
5. 程序会自动执行：
   - 归零
   - 抓取第一个木块 -> A点 -> B点（直线）-> 目标区域
   - 抓取第二个木块 -> A点 -> B点（直线）-> 堆叠在第一个上
   - 回零

## 注意事项
- 运行前确保机械臂周围没有障碍物
- 有人时刻拿着急停开关
- 如果出现异常立即按急停
- 断电前务必有人扶住机械臂
- 实验完毕关闭电源并拔掉电源线

## 调试工具
python ./pose_check.py  # 实时查看当前关节角度

## 常见问题
Q: 提示串口打不开
A: 检查串口号是否正确，是否被其他程序占用

Q: 机械臂动作异常
A: 按急停，检查初始零位是否正确

Q: 提示timeout
A: 控制周期太短，正常情况偶尔出现不影响